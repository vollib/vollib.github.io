<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>py_vollib.black &mdash; py_vollib 1.0.3 documentation</title>
      <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../../../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../../../_static/graphviz.css" type="text/css" />
    <link rel="canonical" href="/documentation/1.0.3/autoapi/py_vollib/black/index.html" />
  <!--[if lt IE 9]>
    <script src="../../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="../../../_static/jquery.js"></script>
        <script src="../../../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script data-url_root="../../../" id="documentation_options" src="../../../_static/documentation_options.js"></script>
        <script src="../../../_static/doctools.js"></script>
        <script src="../../../_static/sphinx_highlight.js"></script>
    <script src="../../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../../index.html" class="icon icon-home">
            py_vollib
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <!-- Local TOC -->
              <div class="local-toc"><ul>
<li><a class="reference internal" href="#"><code class="xref py py-mod docutils literal notranslate"><span class="pre">py_vollib.black</span></code></a><ul>
<li><a class="reference internal" href="#id1"><p>Duplicate implicit target name: “py_vollib.black”.</p>
</a></li>
<li><a class="reference internal" href="#about-letsberational">About LetsBeRational:</a></li>
<li><a class="reference internal" href="#subpackages">Subpackages</a></li>
<li><a class="reference internal" href="#submodules">Submodules</a></li>
<li><a class="reference internal" href="#package-contents">Package Contents</a><ul>
<li><a class="reference internal" href="#functions">Functions</a></li>
<li><a class="reference internal" href="#attributes">Attributes</a><ul>
<li><a class="reference internal" href="#py_vollib.black.binary_flag"><code class="docutils literal notranslate"><span class="pre">binary_flag</span></code></a></li>
<li><a class="reference internal" href="#py_vollib.black.black"><code class="docutils literal notranslate"><span class="pre">black()</span></code></a></li>
<li><a class="reference internal" href="#py_vollib.black.undiscounted_black"><code class="docutils literal notranslate"><span class="pre">undiscounted_black()</span></code></a></li>
<li><a class="reference internal" href="#py_vollib.black.normalised_black"><code class="docutils literal notranslate"><span class="pre">normalised_black()</span></code></a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../index.html">py_vollib</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../../index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active"><code class="xref py py-mod docutils literal notranslate"><span class="pre">py_vollib.black</span></code></li>
      <li class="wy-breadcrumbs-aside">
              <a href="https://github.com//vollib/py_vollib/blob/master//docs/source/autoapi/py_vollib/black/index.rst" class="fa fa-github"> Edit on GitHub</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="module-py_vollib.black">
<span id="py-vollib-black"></span><h1><a class="reference internal" href="#module-py_vollib.black" title="py_vollib.black"><code class="xref py py-mod docutils literal notranslate"><span class="pre">py_vollib.black</span></code></a><a class="headerlink" href="#module-py_vollib.black" title="Permalink to this heading">¶</a></h1>
<section id="id1">
<p>A library for option pricing, implied volatility, and
greek calculation.  py_vollib is based on lets_be_rational,
a Python wrapper for LetsBeRational by Peter Jaeckel as
described below.</p>
<dl class="field-list simple">
<dt class="field-odd">copyright<span class="colon">:</span></dt>
<dd class="field-odd"><p>© 2023 Larry Richards</p>
</dd>
<dt class="field-even">license<span class="colon">:</span></dt>
<dd class="field-even"><p>MIT, see LICENSE for more details.</p>
</dd>
</dl>
</section>
<section id="about-letsberational">
<h2>About LetsBeRational:<a class="headerlink" href="#about-letsberational" title="Permalink to this heading">¶</a></h2>
<p>The source code of LetsBeRational resides at www.jaeckel.org/LetsBeRational.7z .</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>========================================================================================
Copyright © 2013-2014 Peter Jäckel.

Permission to use, copy, modify, and distribute this software is freely granted,
provided that this notice is preserved.

WARRANTY DISCLAIMER
The Software is provided &quot;as is&quot; without warranty of any kind, either express or implied,
including without limitation any implied warranties of condition, uninterrupted use,
merchantability, fitness for a particular purpose, or non-infringement.
========================================================================================
</pre></div>
</div>
</section>
<section id="subpackages">
<h2>Subpackages<a class="headerlink" href="#subpackages" title="Permalink to this heading">¶</a></h2>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="greeks/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">py_vollib.black.greeks</span></code></a><ul>
<li class="toctree-l2"><a class="reference internal" href="greeks/analytical/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">py_vollib.black.greeks.analytical</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="greeks/numerical/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">py_vollib.black.greeks.numerical</span></code></a></li>
</ul>
</li>
</ul>
</div>
</section>
<section id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Permalink to this heading">¶</a></h2>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="implied_volatility/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">py_vollib.black.implied_volatility</span></code></a></li>
</ul>
</div>
</section>
<section id="package-contents">
<h2>Package Contents<a class="headerlink" href="#package-contents" title="Permalink to this heading">¶</a></h2>
<section id="functions">
<h3>Functions<a class="headerlink" href="#functions" title="Permalink to this heading">¶</a></h3>
<table class="autosummary longtable docutils align-default">
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#py_vollib.black.black" title="py_vollib.black.black"><code class="xref py py-obj docutils literal notranslate"><span class="pre">black</span></code></a>(flag, F, K, t, r, sigma)</p></td>
<td><p>Calculate the (discounted) Black option price.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#py_vollib.black.undiscounted_black" title="py_vollib.black.undiscounted_black"><code class="xref py py-obj docutils literal notranslate"><span class="pre">undiscounted_black</span></code></a>(F, K, sigma, t, flag)</p></td>
<td><p>Calculate the <strong>undiscounted</strong> Black option price.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#py_vollib.black.normalised_black" title="py_vollib.black.normalised_black"><code class="xref py py-obj docutils literal notranslate"><span class="pre">normalised_black</span></code></a>(x, s, flag)</p></td>
<td><p>Calculate the normalised Black value,</p></td>
</tr>
</tbody>
</table>
</section>
<section id="attributes">
<h3>Attributes<a class="headerlink" href="#attributes" title="Permalink to this heading">¶</a></h3>
<table class="autosummary longtable docutils align-default">
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#py_vollib.black.binary_flag" title="py_vollib.black.binary_flag"><code class="xref py py-obj docutils literal notranslate"><span class="pre">binary_flag</span></code></a></p></td>
<td><p></p></td>
</tr>
</tbody>
</table>
<dl class="py data">
<dt class="sig sig-object py" id="py_vollib.black.binary_flag">
<span class="sig-name descname"><span class="pre">binary_flag</span></span><a class="headerlink" href="#py_vollib.black.binary_flag" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="py_vollib.black.black">
<span class="sig-name descname"><span class="pre">black</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">flag</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">F</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">K</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">t</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">r</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sigma</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/py_vollib/black.html#black"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#py_vollib.black.black" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate the (discounted) Black option price.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>F</strong> (<em>float</em>) – underlying futures price</p></li>
<li><p><strong>K</strong> (<em>float</em>) – strike price</p></li>
<li><p><strong>sigma</strong> (<em>float</em>) – annualized standard deviation, or volatility</p></li>
<li><p><strong>t</strong> (<em>float</em>) – time to expiration in years</p></li>
</ul>
</dd>
</dl>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">F</span> <span class="o">=</span> <span class="mi">100</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">K</span> <span class="o">=</span> <span class="mi">100</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sigma</span> <span class="o">=</span> <span class="mf">.2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">flag</span> <span class="o">=</span> <span class="s1">&#39;c&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">r</span> <span class="o">=</span> <span class="mf">.02</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">t</span> <span class="o">=</span> <span class="mf">.5</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">black</span><span class="p">(</span><span class="n">flag</span><span class="p">,</span> <span class="n">F</span><span class="p">,</span> <span class="n">K</span><span class="p">,</span> <span class="n">t</span><span class="p">,</span> <span class="n">r</span><span class="p">,</span> <span class="n">sigma</span><span class="p">)</span>
<span class="go">5.5811067246048118</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="py_vollib.black.undiscounted_black">
<span class="sig-name descname"><span class="pre">undiscounted_black</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">F</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">K</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sigma</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">t</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">flag</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/py_vollib/black.html#undiscounted_black"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#py_vollib.black.undiscounted_black" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate the <strong>undiscounted</strong> Black option price.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>F</strong> (<em>float</em>) – underlying futures price</p></li>
<li><p><strong>K</strong> (<em>float</em>) – strike price</p></li>
<li><p><strong>sigma</strong> (<em>float</em>) – annualized standard deviation, or volatility</p></li>
<li><p><strong>t</strong> (<em>float</em>) – time to expiration in years</p></li>
</ul>
</dd>
</dl>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">F</span> <span class="o">=</span> <span class="mi">100</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">K</span> <span class="o">=</span> <span class="mi">100</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sigma</span> <span class="o">=</span> <span class="mf">.2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">flag</span> <span class="o">=</span> <span class="s1">&#39;c&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">t</span> <span class="o">=</span> <span class="mf">.5</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">undiscounted_black</span><span class="p">(</span><span class="n">F</span><span class="p">,</span> <span class="n">K</span><span class="p">,</span> <span class="n">sigma</span><span class="p">,</span> <span class="n">t</span><span class="p">,</span> <span class="n">flag</span><span class="p">)</span>
<span class="go">5.637197779701664</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="py_vollib.black.normalised_black">
<span class="sig-name descname"><span class="pre">normalised_black</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">s</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">flag</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/py_vollib/black.html#normalised_black"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#py_vollib.black.normalised_black" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate the normalised Black value,
a “time value put-call invariant” transformation
of the Black pricing formula.  In other words,
the amount of time value, or “extrinsic” value
of a put and call at the same log-moneyness will
be always be identical.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>x</strong> (<em>float</em>) – ln(F/K) where K is the strike price, and F is the futures price</p></li>
<li><p><strong>s</strong> (<em>float</em>) – volatility times the square root of time to expiration</p></li>
<li><p><strong>flag</strong> (<em>str</em>) – ‘p’ or ‘c’ for put or call</p></li>
</ul>
</dd>
</dl>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">def</span> <span class="nf">normalised_intrinsic</span><span class="p">(</span><span class="n">F</span><span class="p">,</span> <span class="n">K</span><span class="p">,</span> <span class="n">flag</span><span class="p">):</span>
<span class="gp">... </span>    <span class="k">if</span> <span class="n">flag</span><span class="o">==</span><span class="s1">&#39;c&#39;</span><span class="p">:</span>
<span class="gp">... </span>        <span class="k">return</span> <span class="nb">max</span><span class="p">(</span><span class="n">F</span><span class="o">-</span><span class="n">K</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span><span class="o">/</span><span class="p">(</span><span class="n">F</span><span class="o">*</span><span class="n">K</span><span class="p">)</span><span class="o">**</span><span class="mf">0.5</span>
<span class="gp">... </span>    <span class="k">else</span><span class="p">:</span>
<span class="gp">... </span>        <span class="k">return</span> <span class="nb">max</span><span class="p">(</span><span class="n">K</span><span class="o">-</span><span class="n">F</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span><span class="o">/</span><span class="p">(</span><span class="n">F</span><span class="o">*</span><span class="n">K</span><span class="p">)</span><span class="o">**</span><span class="mf">0.5</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">F</span> <span class="o">=</span> <span class="mf">100.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">K</span> <span class="o">=</span> <span class="mf">95.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">x</span> <span class="o">=</span> <span class="n">log</span><span class="p">(</span><span class="n">F</span><span class="o">/</span><span class="n">K</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">t</span> <span class="o">=</span> <span class="mf">0.5</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">v</span> <span class="o">=</span> <span class="mf">0.3</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span> <span class="o">=</span> <span class="n">v</span> <span class="o">*</span> <span class="n">sqrt</span><span class="p">(</span><span class="n">t</span><span class="p">)</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">normalised_black</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">s</span><span class="p">,</span><span class="s1">&#39;p&#39;</span><span class="p">)</span>
<span class="go">0.061296663817558904</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">normalised_black</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">s</span><span class="p">,</span><span class="s1">&#39;c&#39;</span><span class="p">)</span>
<span class="go">0.11259558142181655</span>
</pre></div>
</div>
<p>‘’’
Here the put is OTM, so has only time value.
The call is ITM, having both intrinsic and time value.
Since the time value must be equal for both,
the call normalised price minus its normalised
intrinsic must equal the put normalised price.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="p">(</span><span class="n">normalised_black</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">s</span><span class="p">,</span><span class="s1">&#39;p&#39;</span><span class="p">)</span> <span class="o">-</span> <span class="p">(</span>
<span class="gp">... </span><span class="n">normalised_black</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">s</span><span class="p">,</span><span class="s1">&#39;c&#39;</span><span class="p">)</span> <span class="o">-</span> <span class="n">normalised_intrinsic</span><span class="p">(</span><span class="n">F</span><span class="p">,</span><span class="n">K</span><span class="p">,</span><span class="s1">&#39;c&#39;</span><span class="p">)))</span><span class="o">&lt;</span><span class="mf">1e-12</span>
<span class="go">True</span>
</pre></div>
</div>
</dd></dl>

</section>
</section>
</section>


           </div>
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2023, Larry Richards.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>